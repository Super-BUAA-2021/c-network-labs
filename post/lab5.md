## RIP 实验

实验开始前，清空上一个人的配置（） 四台电脑都要开

### 实验1 静态路由

连线组网：

![image-20211123000320444](../../../../../Hao%2520Zeyu/Documents/_learning/_%25E5%25A4%25A7%25E4%25B8%2589%25E4%25B8%258A/learning/%25E8%25AE%25A1%25E7%25AE%2597%25E6%259C%25BA%25E7%25BD%2591%25E7%25BB%259C/%25E5%25AE%259E%25E9%25AA%258C/%25E5%25AE%259E%25E9%25AA%258C4-RIP%25E5%25AE%259E%25E9%25AA%258C/%25E5%25AE%259E%25E9%25AA%258C%25E8%25AE%25B0%25E5%25BD%2595.assets/image-20211123000320444.png)

配置 S1

```sh
sys
vlan 2
port e1/0/17 to e1/0/24
in v 1
ip ad 192.168.2.1 255.255.255.0
in v 2
ip ad 192.168.1.1 255.255.255.0
```

配置 R1

```sh
sys
in e0/0
ip ad 192.168.1.2 24
```

展示路由表，截图(R1上)(题1)：

```sh
di ip r
```

![image-20211123001811911](../../../../../Hao%2520Zeyu/Documents/_learning/_%25E5%25A4%25A7%25E4%25B8%2589%25E4%25B8%258A/learning/%25E8%25AE%25A1%25E7%25AE%2597%25E6%259C%25BA%25E7%25BD%2591%25E7%25BB%259C/%25E5%25AE%259E%25E9%25AA%258C/%25E5%25AE%259E%25E9%25AA%258C4-RIP%25E5%25AE%259E%25E9%25AA%258C/%25E5%25AE%259E%25E9%25AA%258C%25E8%25AE%25B0%25E5%25BD%2595.assets/image-20211123001811911.png)

配置 PCA 的地址：

![image-20211123003513844](../../../../../Hao%2520Zeyu/Documents/_learning/_%25E5%25A4%25A7%25E4%25B8%2589%25E4%25B8%258A/learning/%25E8%25AE%25A1%25E7%25AE%2597%25E6%259C%25BA%25E7%25BD%2591%25E7%25BB%259C/%25E5%25AE%259E%25E9%25AA%258C/%25E5%25AE%259E%25E9%25AA%258C4-RIP%25E5%25AE%259E%25E9%25AA%258C/%25E5%25AE%259E%25E9%25AA%258C%25E8%25AE%25B0%25E5%25BD%2595.assets/image-20211123003513844.png)

配置完成后在 R1 超级终端上 ping PCA 发现不同，截图（题1）

![image-20211123002047973](../../../../../Hao%2520Zeyu/Documents/_learning/_%25E5%25A4%25A7%25E4%25B8%2589%25E4%25B8%258A/learning/%25E8%25AE%25A1%25E7%25AE%2597%25E6%259C%25BA%25E7%25BD%2591%25E7%25BB%259C/%25E5%25AE%259E%25E9%25AA%258C/%25E5%25AE%259E%25E9%25AA%258C4-RIP%25E5%25AE%259E%25E9%25AA%258C/%25E5%25AE%259E%25E9%25AA%258C%25E8%25AE%25B0%25E5%25BD%2595.assets/image-20211123002047973.png)

R1 上添加静态路由，重新打表并截图（题2）：

```sh
ip rou 192.168.2.0 255.255.255.0 192.168.1.1
di ip r
```

![image-20211123002530000](../../../../../Hao%2520Zeyu/Documents/_learning/_%25E5%25A4%25A7%25E4%25B8%2589%25E4%25B8%258A/learning/%25E8%25AE%25A1%25E7%25AE%2597%25E6%259C%25BA%25E7%25BD%2591%25E7%25BB%259C/%25E5%25AE%259E%25E9%25AA%258C/%25E5%25AE%259E%25E9%25AA%258C4-RIP%25E5%25AE%259E%25E9%25AA%258C/%25E5%25AE%259E%25E9%25AA%258C%25E8%25AE%25B0%25E5%25BD%2595.assets/image-20211123002530000.png)

此时可以 ping 通，截图：

![image-20211123003549951](../../../../../Hao%2520Zeyu/Documents/_learning/_%25E5%25A4%25A7%25E4%25B8%2589%25E4%25B8%258A/learning/%25E8%25AE%25A1%25E7%25AE%2597%25E6%259C%25BA%25E7%25BD%2591%25E7%25BB%259C/%25E5%25AE%259E%25E9%25AA%258C/%25E5%25AE%259E%25E9%25AA%258C4-RIP%25E5%25AE%259E%25E9%25AA%258C/%25E5%25AE%259E%25E9%25AA%258C%25E8%25AE%25B0%25E5%25BD%2595.assets/image-20211123003549951.png)

取消静态路由，添加静态路由，重新查表：

```
un ip rou 192.168.2.0 255.255.255.0 192.168.1.1
ip rou 0.0.0.0 0 192.168.1.1
dis ip r
```

![image-20211123003845160](../../../../../Hao%2520Zeyu/Documents/_learning/_%25E5%25A4%25A7%25E4%25B8%2589%25E4%25B8%258A/learning/%25E8%25AE%25A1%25E7%25AE%2597%25E6%259C%25BA%25E7%25BD%2591%25E7%25BB%259C/%25E5%25AE%259E%25E9%25AA%258C/%25E5%25AE%259E%25E9%25AA%258C4-RIP%25E5%25AE%259E%25E9%25AA%258C/%25E5%25AE%259E%25E9%25AA%258C%25E8%25AE%25B0%25E5%25BD%2595.assets/image-20211123003845160.png)

此时仍然可以 ping 通

![image-20211123003919767](../../../../../Hao%2520Zeyu/Documents/_learning/_%25E5%25A4%25A7%25E4%25B8%2589%25E4%25B8%258A/learning/%25E8%25AE%25A1%25E7%25AE%2597%25E6%259C%25BA%25E7%25BD%2591%25E7%25BB%259C/%25E5%25AE%259E%25E9%25AA%258C/%25E5%25AE%259E%25E9%25AA%258C4-RIP%25E5%25AE%259E%25E9%25AA%258C/%25E5%25AE%259E%25E9%25AA%258C%25E8%25AE%25B0%25E5%25BD%2595.assets/image-20211123003919767.png)

### 实验2 RIP 配置， RIPv1 报文结构分析

重新组网：

![image-20211123004455095](../../../../../Hao%2520Zeyu/Documents/_learning/_%25E5%25A4%25A7%25E4%25B8%2589%25E4%25B8%258A/learning/%25E8%25AE%25A1%25E7%25AE%2597%25E6%259C%25BA%25E7%25BD%2591%25E7%25BB%259C/%25E5%25AE%259E%25E9%25AA%258C/%25E5%25AE%259E%25E9%25AA%258C4-RIP%25E5%25AE%259E%25E9%25AA%258C/%25E5%25AE%259E%25E9%25AA%258C%25E8%25AE%25B0%25E5%25BD%2595.assets/image-20211123004455095.png)

截获报文（PCA）：

![image-20211123004614328](../../../../../Hao%2520Zeyu/Documents/_learning/_%25E5%25A4%25A7%25E4%25B8%2589%25E4%25B8%258A/learning/%25E8%25AE%25A1%25E7%25AE%2597%25E6%259C%25BA%25E7%25BD%2591%25E7%25BB%259C/%25E5%25AE%259E%25E9%25AA%258C/%25E5%25AE%259E%25E9%25AA%258C4-RIP%25E5%25AE%259E%25E9%25AA%258C/%25E5%25AE%259E%25E9%25AA%258C%25E8%25AE%25B0%25E5%25BD%2595.assets/image-20211123004614328.png)

在 R1 上配置：

```sh
rip
net 192.168.1.0
```

在 S1 上配置：

```
rip
net 192.168.1.0
net 192.168.2.0
```

配完后已经抓到包可以分析了，不过先去 R1 上输出路由表并 ping 一下PCA，截个图（题5）：

![image-20211123005331749](../../../../../Hao%2520Zeyu/Documents/_learning/_%25E5%25A4%25A7%25E4%25B8%2589%25E4%25B8%258A/learning/%25E8%25AE%25A1%25E7%25AE%2597%25E6%259C%25BA%25E7%25BD%2591%25E7%25BB%259C/%25E5%25AE%259E%25E9%25AA%258C/%25E5%25AE%259E%25E9%25AA%258C4-RIP%25E5%25AE%259E%25E9%25AA%258C/%25E5%25AE%259E%25E9%25AA%258C%25E8%25AE%25B0%25E5%25BD%2595.assets/image-20211123005331749.png)

![image-20211123005418806](../../../../../Hao%2520Zeyu/Documents/_learning/_%25E5%25A4%25A7%25E4%25B8%2589%25E4%25B8%258A/learning/%25E8%25AE%25A1%25E7%25AE%2597%25E6%259C%25BA%25E7%25BD%2591%25E7%25BB%259C/%25E5%25AE%259E%25E9%25AA%258C/%25E5%25AE%259E%25E9%25AA%258C4-RIP%25E5%25AE%259E%25E9%25AA%258C/%25E5%25AE%259E%25E9%25AA%258C%25E8%25AE%25B0%25E5%25BD%2595.assets/image-20211123005418806.png)

可以发现多了一条 RIP 协议的路由信息。

回到 PCA查看抓包结果，选 request 截图（题8）

![image-20211123005919300](../../../../../Hao%2520Zeyu/Documents/_learning/_%25E5%25A4%25A7%25E4%25B8%2589%25E4%25B8%258A/learning/%25E8%25AE%25A1%25E7%25AE%2597%25E6%259C%25BA%25E7%25BD%2591%25E7%25BB%259C/%25E5%25AE%259E%25E9%25AA%258C/%25E5%25AE%259E%25E9%25AA%258C4-RIP%25E5%25AE%259E%25E9%25AA%258C/%25E5%25AE%259E%25E9%25AA%258C%25E8%25AE%25B0%25E5%25BD%2595.assets/image-20211123005919300.png)

其余的题抄抄抄就完事了

### 实验3 距离矢量算法分析

重新组网：

![image-20211123010725788](../../../../../Hao%2520Zeyu/Documents/_learning/_%25E5%25A4%25A7%25E4%25B8%2589%25E4%25B8%258A/learning/%25E8%25AE%25A1%25E7%25AE%2597%25E6%259C%25BA%25E7%25BD%2591%25E7%25BB%259C/%25E5%25AE%259E%25E9%25AA%258C/%25E5%25AE%259E%25E9%25AA%258C4-RIP%25E5%25AE%259E%25E9%25AA%258C/%25E5%25AE%259E%25E9%25AA%258C%25E8%25AE%25B0%25E5%25BD%2595.assets/image-20211123010725788.png)

在 PCB 上开始截包。

![image-20211123010851398](../../../../../Hao%2520Zeyu/Documents/_learning/_%25E5%25A4%25A7%25E4%25B8%2589%25E4%25B8%258A/learning/%25E8%25AE%25A1%25E7%25AE%2597%25E6%259C%25BA%25E7%25BD%2591%25E7%25BB%259C/%25E5%25AE%259E%25E9%25AA%258C/%25E5%25AE%259E%25E9%25AA%258C4-RIP%25E5%25AE%259E%25E9%25AA%258C/%25E5%25AE%259E%25E9%25AA%258C%25E8%25AE%25B0%25E5%25BD%2595.assets/image-20211123010851398-16376009333791.png)

在 S1 上配置：

```
in v 1
ip ad 192.168.2.1 24
in loop 1
ip ad 192.168.1.1 32
rip
net 192.168.2.0
net 192.168.1.0
```

S2:

```
in v 1
ip ad 192.168.3.2 24
rip
net 192.168.3.0
```

R1:

```
in e0/0
ip ad 192.168.2.2 24
in e0/1
ip ad 192.168.3.2 24
rip
net 192.168.2.0
net 192.168.3.0
```

在 PCB 上抓包，找 response：

![image-20211123015416820](../../../../../Hao%2520Zeyu/Documents/_learning/_%25E5%25A4%25A7%25E4%25B8%2589%25E4%25B8%258A/learning/%25E8%25AE%25A1%25E7%25AE%2597%25E6%259C%25BA%25E7%25BD%2591%25E7%25BB%259C/%25E5%25AE%259E%25E9%25AA%258C/%25E5%25AE%259E%25E9%25AA%258C4-RIP%25E5%25AE%259E%25E9%25AA%258C/%25E5%25AE%259E%25E9%25AA%258C%25E8%25AE%25B0%25E5%25BD%2595.assets/image-20211123015416820.png)

重新组网，和上图完全一样，用 PCB监听 R1-E0/1 

组好后再找一个response截图：

![image-20211123015520601](../../../../../Hao%2520Zeyu/Documents/_learning/_%25E5%25A4%25A7%25E4%25B8%2589%25E4%25B8%258A/learning/%25E8%25AE%25A1%25E7%25AE%2597%25E6%259C%25BA%25E7%25BD%2591%25E7%25BB%259C/%25E5%25AE%259E%25E9%25AA%258C/%25E5%25AE%259E%25E9%25AA%258C4-RIP%25E5%25AE%259E%25E9%25AA%258C/%25E5%25AE%259E%25E9%25AA%258C%25E8%25AE%25B0%25E5%25BD%2595.assets/image-20211123015520601-16376037229312.png)

（两个 ，Metric 分别是 1 和 2，10题的图）



在 S2 上如下操作：

```
in loop 2
ip add 192.168.4.1 32
rip
net 192.168.4.0
net 192.168.3.0
```

然后分别在R1,S1中执行

```
dis ip r
```

截图（11题）

### 实验4 

没有图

所以。。。

### 实验5

按顺序配置：

S1

```
in vlan 1
rip v 2
rip au md5 rfc2082 buaa 1
in loo 1
rip v 2
rip au md5 rfc2082 buaa 1
```

S2

```
in vlan 1
rip v 2
rip au md5 rfc2082 buaa 1
```

R1

```
in e0/0
rip v 2
rip au md5 rfc2082 buaa 1
in e0/1
rip v 2
rip au md5 rfc2082 buaa 1
```

然后去 PCB 抓 RIPv2 的包，截图

![image-20211123021916922](../../../../../Hao%2520Zeyu/Documents/_learning/_%25E5%25A4%25A7%25E4%25B8%2589%25E4%25B8%258A/learning/%25E8%25AE%25A1%25E7%25AE%2597%25E6%259C%25BA%25E7%25BD%2591%25E7%25BB%259C/%25E5%25AE%259E%25E9%25AA%258C/%25E5%25AE%259E%25E9%25AA%258C4-RIP%25E5%25AE%259E%25E9%25AA%258C/%25E5%25AE%259E%25E9%25AA%258C%25E8%25AE%25B0%25E5%25BD%2595.assets/image-20211123021916922.png)

### 实验6 RIP 组网设计实验

困了，没做（）